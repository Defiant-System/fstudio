
// for dark theme
@import "theme-dark";
@import "blank-view";



@sidebar_bg: #ececec;
@layout_outline: #bbb;

&.win-body-focused_ {
	.sidebar {
		border-left-color: @layout_outline;

		.sidebar-head {
			border-bottom-color: @layout_outline;

			span {
				&:not(:first-child) {
					border-left-color: @layout_outline;
				}

				&.active {
					background: #489bf7;
					color: #fff;

					&:after {
						display: block;
					}
				}
			}
		}
	}
}


content {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	display: flex;

	&.show-blank-view {
		.main,
		.sidebar {
			display: none;
		}

		.blank-view {
			display: block;
		}
	}

	&.show-sidebar {
		.sidebar {
			width: 250px;
		}
	}

	.main {
		display: flex;
		flex-direction: column;
		flex: 1;

		.head {
			background: #f0f0f0;
			height: 29px;
			border-bottom: 1px solid rgba(#000,.15);
			color: #777;

			.head-reel {
				display: flex;
				height: 100%;

				span {
					position: relative;
					padding: 8px 0 0;
					width: 114px;
					text-align: center;
					user-select: none;
					cursor: pointer;

					&.active {
						background: #d6e6fb;
						color: #4591e8;
						// background: #489bf7;
						// color: #fff;
						cursor: default;

						+ span:before {
							display: none;
						}
					}

					&:not(.active):before {
						content: "";
						position: absolute;
						top: 5px;
						bottom: 4px;
						left: 0;
						width: 1px;
						background: rgba(#000,0.15);
					}
				}
			}
		}

		.body {
			flex: 1;
			display: flex;
			overflow: hidden;

			> div {
				width: 0;
				opacity: 0;
				visibility: hidden;
				pointer-events: none;
				position: relative;
			}

			@import "sections/design";
			@import "sections/kerning";
			@import "sections/overview";
			@import "sections/preview";
		}


		&[data-show="overview"] {
			.body .view-overview {
				flex: 1;
				opacity: 1;
				visibility: visible;
				pointer-events: initial;
			}
		}

		&[data-show="design"] {
			.body .view-design {
				flex: 1;
				opacity: 1;
				visibility: visible;
				pointer-events: initial;
			}

			+ .sidebar .wrapper .design-sidebar {
				display: block;
			}
		}

		&[data-show="kerning"] {
			.body .view-kerning {
				flex: 1;
				opacity: 1;
				visibility: visible;
				pointer-events: initial;
			}

			+ .sidebar .wrapper .kerning-sidebar {
				display: block;
			}
		}

		&[data-show="preview"] {
			.body .view-preview {
				flex: 1;
				opacity: 1;
				visibility: visible;
				pointer-events: initial;
			}

			+ .sidebar .wrapper .preview-sidebar {
				display: block;
			}
		}
	}

	.sidebar {
		width: 0;
		overflow: hidden;
		// transition: width 150ms ease-in-out;
		
		.wrapper {
			position: relative;
			height: 100%;
			width: 250px;
			background: var( --sidebar-bg );
			border-left: 1px solid lighten(@layout_outline, 9%);

			.design-sidebar,
			.kerning-sidebar,
			.preview-sidebar {
				display: none;
			}
		}

		[class*="icon-"],
		[class^="icon-"] {
			position: relative;
			width: 17px;
			height: 17px;
			display: inline-block;
			background-position: 50% 50%;
			background-repeat: no-repeat;
			background-size: contain;
			margin: 5px;
			opacity: .5;

			&.icon-align-top          { background-image: url(~/icons/icon-align-top.png) }
			&.icon-align-middle       { background-image: url(~/icons/icon-align-middle.png) }
			&.icon-align-bottom       { background-image: url(~/icons/icon-align-bottom.png) }
			&.icon-vertical-centers   { background-image: url(~/icons/icon-vertical-centers.png) }
			&.icon-align-left         { background-image: url(~/icons/icon-align-left.png) }
			&.icon-align-center       { background-image: url(~/icons/icon-align-center.png) }
			&.icon-align-right        { background-image: url(~/icons/icon-align-right.png) }
			&.icon-horizontal-centers { background-image: url(~/icons/icon-horizontal-centers.png) }
		}

		.sidebar-head {
			height: 29px;
			border-bottom: 1px solid rgba(#000,.2);
			display: flex;
			background: #ececec;
			color: #888;

			span {
				flex: 1;
				padding-top: 9px;
				font-weight: 400;
				text-align: center;
				user-select: none;

				&:not(:first-child) {
					border-left: 1px solid rgba(#000,.2);
				}

				&.active {
					position: relative;
					z-index: 2;
					background: #ddd;
					color: #333;
					
					&:after {
						display: none;
						content: "";
						position: absolute;
						top: 0;
						left: -1px;
						right: -1px;
						bottom: -1px;
						border: 1px solid darken(#489bf7, 7%);
						border-top: 0;
					}

					&:first-child:after {
						left: 0;
					}

					&:last-child:after {
						border-right: 0;
					}
				}
			}
		}

		.sidebar-body {
			flex: 1;
			position: relative;
			overflow: auto;
			font-size: 12px;
			display: none;

			&.active {
				display: block;
			}

			.form-radio_,
			.form-checkbox_ {
				margin: 0 2px 7px 0;
			}

			button {
				width: calc(100% - 11px);
				margin-left: 11px;
			}

			.group-row {
				position: relative;
				padding: 13px 16px 7px;
				margin-bottom: 1px;
				
				.flex-row {
					display: flex;
					min-height: 32px;
					justify-content: space-between;

					> legend {
						flex: auto;
						margin: 0;
						padding-top: 5px;
					}

					> div {
						width: 30%;
					}
				}
			}
		}
	}
}


/* latin */
@font-face {
	font-family: "FiraGo";
	font-style: normal;
	font-weight: 400;
	font-display: swap;
	src: url(~/fonts/FiraGO-Regular.woff2) format("woff2");
	unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

